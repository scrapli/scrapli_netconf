<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.8.4" />
<title>scrapli_netconf.transport.asyncssh_ API documentation</title>
<meta name="description" content="scrapli_netconf.transport.asyncssh_" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>scrapli_netconf.transport.asyncssh_</code></h1>
</header>
<section id="section-intro">
<p>scrapli_netconf.transport.asyncssh_</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;scrapli_netconf.transport.asyncssh_&#34;&#34;&#34;
from typing import Any

from scrapli_asyncssh.transport.asyncssh_ import AsyncSSHTransport


# no stubs for scrapli_asyncssh for now, ignore strict typing complains
class NetconfAsyncSSHTransport(AsyncSSHTransport):  # type: ignore
    def __init__(self, **kwargs: Any):
        super().__init__(**kwargs)

    async def open_netconf(self) -&gt; bytes:
        &#34;&#34;&#34;
        Netconf open method

        Args:
            N/A

        Returns:
            bytes: bytes output from server captured while opening the connection

        Raises:
            N/A

        &#34;&#34;&#34;
        if self.auth_strict_key:
            self.logger.debug(f&#34;Attempting to validate {self.host} public key is in known hosts&#34;)
            self._verify_key()

        self.session_lock.acquire()
        await self._authenticate()

        if self.auth_strict_key:
            self.logger.debug(
                f&#34;Attempting to validate {self.host} public key is in known hosts and is valid&#34;
            )
            self._verify_key_value()

        self.session_lock.release()
        # it seems we must pass a terminal type to force a pty(?) which i think we want in like...
        # every case?? https://invisible-island.net/ncurses/ncurses.faq.html#xterm_color
        # set encoding to None so we get bytes for consistency w/ other scrapli transports
        self.stdin, self.stdout, self.stderr = await self.session.open_session(
            term_type=&#34;xterm&#34;, encoding=None, subsystem=&#34;netconf&#34;
        )

        return b&#34;&#34;

    def _keepalive_network(self) -&gt; None:
        &#34;&#34;&#34;
        Override _keepalive_network from scrapli; not supported with netconf

        Args:
            N/A

        Returns:
            N/A  # noqa: DAR202

        Raises:
            NotImplementedError: always for now...

        &#34;&#34;&#34;
        raise NotImplementedError(&#34;`network` style keepalives not supported with netconf&#34;)

    def _keepalive_standard(self) -&gt; None:
        &#34;&#34;&#34;
        Send &#34;out of band&#34; (protocol level) keepalives to devices.

        Args:
            N/A

        Returns:
            N/A  # noqa: DAR202

        Raises:
            NotImplementedError: always for now...

        &#34;&#34;&#34;
        raise NotImplementedError(&#34;keepalives not yet implemented&#34;)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="scrapli_netconf.transport.asyncssh_.NetconfAsyncSSHTransport"><code class="flex name class">
<span>class <span class="ident">NetconfAsyncSSHTransport</span></span>
<span>(</span><span>**kwargs: Any)</span>
</code></dt>
<dd>
<div class="desc"><p>Helper class that provides a standard way to create an ABC using
inheritance.</p>
<p>AsyncSSHTransport Object</p>
<p>Inherit from Transport ABC
AsyncSSHTransport &lt;- Transport (ABC)</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>host</code></strong></dt>
<dd>host ip/name to connect to</dd>
<dt><strong><code>port</code></strong></dt>
<dd>port to connect to</dd>
<dt><strong><code>auth_username</code></strong></dt>
<dd>username for authentication</dd>
<dt><strong><code>auth_private_key</code></strong></dt>
<dd>path to private key for authentication</dd>
<dt><strong><code>auth_password</code></strong></dt>
<dd>password for authentication</dd>
<dt><strong><code>auth_strict_key</code></strong></dt>
<dd>True/False to enforce strict key checking (default is True)</dd>
<dt><strong><code>timeout_socket</code></strong></dt>
<dd>timeout for establishing socket in seconds</dd>
<dt><strong><code>timeout_transport</code></strong></dt>
<dd>timeout for ssh transport in seconds</dd>
<dt><strong><code>timeout_exit</code></strong></dt>
<dd>True/False close transport if timeout encountered. If False and keepalives
are in use, keepalives will prevent program from exiting so you should be sure to
catch Timeout exceptions and handle them appropriately</dd>
<dt><strong><code>keepalive</code></strong></dt>
<dd>whether or not to try to keep session alive</dd>
<dt><strong><code>keepalive_interval</code></strong></dt>
<dd>interval to use for session keepalives</dd>
<dt><strong><code>keepalive_type</code></strong></dt>
<dd>network|standard &ndash; 'network' sends actual characters over the
transport channel. This is useful for network-y type devices that may not support
'standard' keepalive mechanisms. 'standard' is not currently implemented w/ asyncssh</dd>
<dt><strong><code>keepalive_pattern</code></strong></dt>
<dd>pattern to send to keep network channel alive. Default is
u'' which is equivalent to 'ctrl+e'. This pattern moves cursor to end of the
line which should be an innocuous pattern. This will only be entered <em>if</em> a lock
can be acquired. This is only applicable if using keepalives and if the keepalive
type is 'network'</dd>
<dt><strong><code>ssh_config_file</code></strong></dt>
<dd>string to path for ssh config file</dd>
<dt><strong><code>ssh_known_hosts_file</code></strong></dt>
<dd>string to path for ssh known hosts file</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>N/A
# noqa: DAR202</p>
<h2 id="raises">Raises</h2>
<p>N/A</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class NetconfAsyncSSHTransport(AsyncSSHTransport):  # type: ignore
    def __init__(self, **kwargs: Any):
        super().__init__(**kwargs)

    async def open_netconf(self) -&gt; bytes:
        &#34;&#34;&#34;
        Netconf open method

        Args:
            N/A

        Returns:
            bytes: bytes output from server captured while opening the connection

        Raises:
            N/A

        &#34;&#34;&#34;
        if self.auth_strict_key:
            self.logger.debug(f&#34;Attempting to validate {self.host} public key is in known hosts&#34;)
            self._verify_key()

        self.session_lock.acquire()
        await self._authenticate()

        if self.auth_strict_key:
            self.logger.debug(
                f&#34;Attempting to validate {self.host} public key is in known hosts and is valid&#34;
            )
            self._verify_key_value()

        self.session_lock.release()
        # it seems we must pass a terminal type to force a pty(?) which i think we want in like...
        # every case?? https://invisible-island.net/ncurses/ncurses.faq.html#xterm_color
        # set encoding to None so we get bytes for consistency w/ other scrapli transports
        self.stdin, self.stdout, self.stderr = await self.session.open_session(
            term_type=&#34;xterm&#34;, encoding=None, subsystem=&#34;netconf&#34;
        )

        return b&#34;&#34;

    def _keepalive_network(self) -&gt; None:
        &#34;&#34;&#34;
        Override _keepalive_network from scrapli; not supported with netconf

        Args:
            N/A

        Returns:
            N/A  # noqa: DAR202

        Raises:
            NotImplementedError: always for now...

        &#34;&#34;&#34;
        raise NotImplementedError(&#34;`network` style keepalives not supported with netconf&#34;)

    def _keepalive_standard(self) -&gt; None:
        &#34;&#34;&#34;
        Send &#34;out of band&#34; (protocol level) keepalives to devices.

        Args:
            N/A

        Returns:
            N/A  # noqa: DAR202

        Raises:
            NotImplementedError: always for now...

        &#34;&#34;&#34;
        raise NotImplementedError(&#34;keepalives not yet implemented&#34;)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>scrapli_asyncssh.transport.asyncssh_.AsyncSSHTransport</li>
<li>scrapli.transport.async_transport.AsyncTransport</li>
<li>scrapli.transport.base_transport.TransportBase</li>
<li>abc.ABC</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="scrapli_netconf.transport.asyncssh_.NetconfAsyncSSHTransport.open_netconf"><code class="name flex">
<span>async def <span class="ident">open_netconf</span></span>(<span>self) ‑> bytes</span>
</code></dt>
<dd>
<div class="desc"><p>Netconf open method</p>
<h2 id="args">Args</h2>
<p>N/A</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>bytes</code></dt>
<dd>bytes output from server captured while opening the connection</dd>
</dl>
<h2 id="raises">Raises</h2>
<p>N/A</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def open_netconf(self) -&gt; bytes:
    &#34;&#34;&#34;
    Netconf open method

    Args:
        N/A

    Returns:
        bytes: bytes output from server captured while opening the connection

    Raises:
        N/A

    &#34;&#34;&#34;
    if self.auth_strict_key:
        self.logger.debug(f&#34;Attempting to validate {self.host} public key is in known hosts&#34;)
        self._verify_key()

    self.session_lock.acquire()
    await self._authenticate()

    if self.auth_strict_key:
        self.logger.debug(
            f&#34;Attempting to validate {self.host} public key is in known hosts and is valid&#34;
        )
        self._verify_key_value()

    self.session_lock.release()
    # it seems we must pass a terminal type to force a pty(?) which i think we want in like...
    # every case?? https://invisible-island.net/ncurses/ncurses.faq.html#xterm_color
    # set encoding to None so we get bytes for consistency w/ other scrapli transports
    self.stdin, self.stdout, self.stderr = await self.session.open_session(
        term_type=&#34;xterm&#34;, encoding=None, subsystem=&#34;netconf&#34;
    )

    return b&#34;&#34;</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="scrapli_netconf.transport" href="index.html">scrapli_netconf.transport</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="scrapli_netconf.transport.asyncssh_.NetconfAsyncSSHTransport" href="#scrapli_netconf.transport.asyncssh_.NetconfAsyncSSHTransport">NetconfAsyncSSHTransport</a></code></h4>
<ul class="">
<li><code><a title="scrapli_netconf.transport.asyncssh_.NetconfAsyncSSHTransport.open_netconf" href="#scrapli_netconf.transport.asyncssh_.NetconfAsyncSSHTransport.open_netconf">open_netconf</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.8.4</a>.</p>
</footer>
</body>
</html>